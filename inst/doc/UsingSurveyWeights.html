<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Robert Gentleman and Teresa Filshtein Sonmez" />

<meta name="date" content="2024-04-23" />

<title>Using Survey Weights with nhanesA</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Using Survey Weights with nhanesA</h1>
<h4 class="author">Robert Gentleman and Teresa Filshtein Sonmez</h4>
<h4 class="date">2024-04-23</h4>



<div id="nhanes-and-survey-weights" class="section level3">
<h3>NHANES and Survey Weights</h3>
<p>NHANES aims to produce national estimates on a range of health,
nutrition, and other factors that accurately represent the
non-institutionalized civilian U.S. population. The data is gathered
using a complex, four-stage sampling design. When analyzing this data,
it’s crucial to use specialized survey analysis techniques that
incorporate specific weights. These weights account for the intricate
sampling strategy employed during data collection.</p>
<p>You can find the NHANES sample weights as part of the downloadable
data. For a detailed understanding of these weights and their correct
usage, the CDC provides extensive documentation: <a href="https://wwwn.cdc.gov/nchs/nhanes/tutorials/default.aspx">CDC
NHANES Tutorials</a>.</p>
<p>It’s worth noting that the methodologies and strategies for NHANES
have evolved over time. Reasons for these changes range from
methodological enhancements, external events like the COVID epidemic, to
a recent shift towards a more longitudinal perspective. Such changes can
significantly influence any analysis. Thus, analysts should approach
this data with diligence and care.</p>
<p>There are numerous online resources that offer worked examples for
further understanding:</p>
<ol style="list-style-type: decimal">
<li>The official resource for the R <code>survey</code> package: <a href="http://r-survey.r-forge.r-project.org/survey/">R-Survey</a>.</li>
<li>An up-to-date resource by the Advanced Research Computing group at
UCLA: <a href="https://stats.oarc.ucla.edu/r/seminars/survey-data-analysis-with-r/">Survey
Data Analysis with R</a>.</li>
<li>A growing collection of presentations on platforms like
YouTube.</li>
</ol>
<p>This vignette’s intent is not to serve as an exhaustive guide.
Instead, we aim to showcase some fundamental functions and point you
towards more in-depth online resources necessary for specialized
analyses. Here we will cover the basics of setting up the survey design
and performing basic tasks. For those interested in diving deeper, we
encourage you to develop and share more comprehensive documents.</p>
</div>
<div id="example" class="section level3">
<h3>Example</h3>
<p>Using the <code>nhanesA</code> and <code>survey</code> packages, we
will explore the average blood pressure of individuals over 40 years of
age, segmented by their reported ethnicity, during the 2017-2018 cycle.
To achieve this, we’ll merge the demographic (<code>DEMO_J</code>) and
blood pressure (<code>BXP_J</code>) datasets. Our examination will cover
average blood pressure distributions across different sexes and
ethnicities, and we’ll conduct a regression analysis to understand the
relationship between blood pressure and age. This is a basic
demonstration; comprehensive analyses would need to consider various
risk factors and align with specific epidemiological queries.</p>
<div id="pull-in-the-relevant-data" class="section level4">
<h4>Pull in the relevant data</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;nhanesA&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>demoj <span class="ot">=</span> <span class="fu">nhanes</span>(<span class="st">&quot;DEMO_J&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">dim</span>(demoj)</span></code></pre></div>
<pre><code>## [1] 9254   46</code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="do">## merge DEMO_J and BXP_J using SEQN.  </span></span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>bpxj <span class="ot">=</span> <span class="fu">nhanes</span>(<span class="st">&quot;BPX_J&quot;</span>)</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>data <span class="ot">=</span> <span class="fu">merge</span>(demoj, bpxj, <span class="at">by=</span><span class="st">&quot;SEQN&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="fu">dim</span>(data)</span></code></pre></div>
<pre><code>## [1] 8704   66</code></pre>
</div>
<div id="create-survey-design-object" class="section level4">
<h4>Create survey design object</h4>
<p>To generate accurate estimates, it’s essential to establish a survey
design object that integrates the weights into our analysis. This design
object should be created <em>before</em> any subsetting or manipulation
of the data. By doing this, we ensure that intricate survey design
elements, like stratification and clustering, are fully captured and
applied across the dataset.</p>
<p>It is also crucial to choose the appropriate weighting scheme for
your analysis. NHANES offers various weights, such as interview,
examination, fasting, and MEC laboratory weights, to name a few. The
selection hinges on the specific dataset components and analyses you’re
focusing on. Moreover, when analyzing data across multiple cycles, it
will be necessary to modify these weights to ensure accurate
representation and inference.</p>
<p>For a comprehensive understanding, the CDC provides in-depth guidance
on its website: <a href="https://wwwn.cdc.gov/nchs/nhanes/tutorials/weighting.aspx">CDC
NHANES Weighting Tutorial</a>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;survey&quot;</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>nhanesDesign <span class="ot">&lt;-</span> <span class="fu">svydesign</span>(<span class="at">id =</span> <span class="sc">~</span>SDMVPSU,  <span class="co"># Primary Sampling Units (PSU)</span></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>                          <span class="at">strata  =</span> <span class="sc">~</span>SDMVSTRA, <span class="co"># Stratification used in the survey</span></span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>                          <span class="at">weights =</span> <span class="sc">~</span>WTMEC2YR,   <span class="co"># Survey weights</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>                          <span class="at">nest    =</span> <span class="cn">TRUE</span>,      <span class="co"># Whether PSUs are nested within strata</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>                          <span class="at">data    =</span> data)</span></code></pre></div>
</div>
<div id="subset-the-survey-design-object" class="section level4">
<h4>Subset the survey design object</h4>
<p>Next, we subset the data to focus on individuals over 40 years of
age. At this stage, it’s imperative to use the tools in the
<code>survey</code> package for any data manipulations. This procedure
guarantees that weight adjustments are correctly applied, ensuring the
validity of subsequent analyses. For comparison purposes, we also create
an additional subset without the survey design framework, which allows
for easy examination of unadjusted values.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># subset survey design object</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>dfsub <span class="ot">=</span> <span class="fu">subset</span>(nhanesDesign, data<span class="sc">$</span>RIDAGEYR<span class="sc">&gt;=</span><span class="dv">40</span>)</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a><span class="co"># subset the original dataset</span></span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>datasub <span class="ot">=</span> data[data<span class="sc">$</span>RIDAGEYR<span class="sc">&gt;=</span><span class="dv">40</span>,]</span></code></pre></div>
</div>
<div id="basic-data-exploration" class="section level4">
<h4>Basic data exploration</h4>
<p>Next, we’ll explore the variable RIDRETH1 from the DEMO_J table,
which represents reported ethnicity. We’ll focus on diastolic blood
pressure for our analysis. For simplicity in our presentation, we’ll
utilize only the first measurement, represented by the variable BPXDI1
in the BPX_J table.</p>
<div id="calculating-means" class="section level5">
<h5>Calculating means</h5>
<p>First we split by ethnicity and calculate mean blood pressure for
each group on the unweighted data.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="do">## mean on total data set</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="fu">mean</span>(datasub<span class="sc">$</span>BPXDI1, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 73.04455</code></pre>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="do">##split the data by ethnicity and calculate mean of the unweighted data</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>unweighted_means <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">split</span>(datasub<span class="sc">$</span>BPXDI1, datasub<span class="sc">$</span>RIDRETH1), mean, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>unweighted_means </span></code></pre></div>
<pre><code>##                    Mexican American                      Other Hispanic 
##                            72.41000                            72.97611 
##                  Non-Hispanic White                  Non-Hispanic Black 
##                            70.84130                            75.71466 
## Other Race - Including Multi-Racial 
##                            74.41311</code></pre>
<p>Now, we perform the same analysis using the survey weights.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>adjmns <span class="ot">=</span> <span class="fu">svymean</span>(<span class="sc">~</span>BPXDI1, dfsub, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>adjmns</span></code></pre></div>
<pre><code>##          mean     SE
## BPXDI1 73.237 0.5597</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co"># By ethnicity</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>adjmnsbyEth <span class="ot">=</span> <span class="fu">svyby</span>(<span class="sc">~</span>BPXDI1, <span class="sc">~</span>RIDRETH1, dfsub, svymean, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>weighted_means <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(adjmnsbyEth<span class="sc">$</span>BPXDI1)</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> <span class="fu">cbind</span>(unweighted_means, weighted_means)</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="fu">colnames</span>(combined_data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Unweighted&quot;</span>, <span class="st">&quot;Weighted&quot;</span>)</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>combined_data</span></code></pre></div>
<pre><code>##                                     Unweighted Weighted
## Mexican American                      72.41000 74.03194
## Other Hispanic                        72.97611 74.73756
## Non-Hispanic White                    70.84130 72.45422
## Non-Hispanic Black                    75.71466 75.71874
## Other Race - Including Multi-Racial   74.41311 74.60215</code></pre>
<p>We can do this with gender and any other categorical variable:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="co"># By Gender </span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>mns <span class="ot">=</span> <span class="fu">sapply</span>(<span class="fu">split</span>(datasub<span class="sc">$</span>BPXDI1, datasub<span class="sc">$</span>RIAGENDR), mean, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>adjmnsbyGen <span class="ot">=</span> <span class="fu">svyby</span>(<span class="sc">~</span>BPXDI1, <span class="sc">~</span>RIAGENDR, dfsub, svymean, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a></span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>combined_data <span class="ot">&lt;-</span> <span class="fu">cbind</span>(mns, adjmnsbyGen<span class="sc">$</span>BPXDI1)</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="fu">colnames</span>(combined_data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Unweighted&quot;</span>, <span class="st">&quot;Weighted&quot;</span>)</span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>combined_data</span></code></pre></div>
<pre><code>##        Unweighted Weighted
## Male     74.67330 75.31134
## Female   71.43385 71.31453</code></pre>
<p>In addition to computing the mean, various other summary statistics,
such as quantiles and variance, can be readily calculated using the
survey design object. Importantly, each of these summary statistics will
come with a corresponding standard error that accounts for the weights,
providing insights into the precision of the estimates.</p>
</div>
<div id="calculating-quantiles" class="section level5">
<h5>Calculating quantiles</h5>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="co"># For the unweighted data</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="fu">quantile</span>(datasub<span class="sc">$</span>BPXDI1, <span class="fu">c</span>(<span class="fl">0.25</span>,<span class="fl">0.5</span>,.<span class="dv">75</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## 25% 50% 75% 
##  66  74  82</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># For the survey weighted data</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="fu">svyquantile</span>(<span class="sc">~</span>BPXDI1, dfsub, <span class="at">quantiles =</span> <span class="fu">c</span>(<span class="fl">0.25</span>,<span class="fl">0.5</span>,<span class="fl">0.75</span>), <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## $BPXDI1
##      quantile ci.2.5 ci.97.5        se
## 0.25       66     66      68 0.4691643
## 0.5        74     74      76 0.4691643
## 0.75       80     80      82 0.4691643
## 
## attr(,&quot;hasci&quot;)
## [1] TRUE
## attr(,&quot;class&quot;)
## [1] &quot;newsvyquantile&quot;</code></pre>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="co"># By Gender </span></span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="fu">svyby</span>(<span class="sc">~</span>BPXDI1, <span class="sc">~</span>RIAGENDR, dfsub, svyquantile, <span class="at">quantiles =</span> <span class="fu">c</span>(<span class="fl">0.5</span>), <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##        RIAGENDR BPXDI1 se.BPXDI1
## Male       Male     76 0.9383286
## Female   Female     72 0.4691643</code></pre>
<p><strong>Note:</strong> The columns ci.2.5 and ci.97.5 in the output
represent percentile intervals, not the traditional confidence
intervals. Specifically, for a given quantile (like the 25th
percentile), the values in these columns denote the range between the
2.5th percentile and the 97.5th percentile of that particular quantile
estimate, when considering the survey weights.</p>
</div>
<div id="calculating-variances" class="section level5">
<h5>Calculating variances</h5>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="co"># For the entire dataset</span></span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="fu">svyvar</span>(<span class="sc">~</span>BPXDI1, dfsub, <span class="at">quantiles =</span> <span class="fu">c</span>(<span class="fl">0.25</span>,<span class="fl">0.5</span>,<span class="fl">0.75</span>), <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##        variance     SE
## BPXDI1   173.68 12.279</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="co"># By ethnicity</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="fu">svyby</span>(<span class="sc">~</span>BPXDI1, <span class="sc">~</span>RIDRETH1, dfsub, svyvar, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##                                                                RIDRETH1
## Mexican American                                       Mexican American
## Other Hispanic                                           Other Hispanic
## Non-Hispanic White                                   Non-Hispanic White
## Non-Hispanic Black                                   Non-Hispanic Black
## Other Race - Including Multi-Racial Other Race - Including Multi-Racial
##                                       BPXDI1       se
## Mexican American                    200.8781 45.43074
## Other Hispanic                      160.0157 23.79938
## Non-Hispanic White                  168.3504 18.30355
## Non-Hispanic Black                  202.3565 37.12593
## Other Race - Including Multi-Racial 156.9968 17.26037</code></pre>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="co"># By Gender </span></span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="fu">svyby</span>(<span class="sc">~</span>BPXDI1, <span class="sc">~</span>RIAGENDR, dfsub, svyvar, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>##        RIAGENDR   BPXDI1       se
## Male       Male 141.2704 10.52796
## Female   Female 196.1199 20.65706</code></pre>
</div>
</div>
<div id="conducting-simple-regression-analysis" class="section level4">
<h4>Conducting Simple Regression Analysis</h4>
<p>The <code>svyglm</code> function allows us to perform regression
analyses while accounting for the survey’s design. In this section, we
will demonstrate how to model diastolic blood pressure levels based on
age and ethnicity.</p>
<div id="syntax-for-svyglm" class="section level5">
<h5>Syntax for <code>svyglm</code></h5>
<p>Using <code>svyglm()</code> is akin to utilizing the
<code>glm()</code> function from base R. The key difference is that
<code>svyglm()</code> is specifically tailored to work with survey
objects, considering the intricate sampling design and weights.</p>
<p>To model diastolic blood pressure (noted as <code>BPXDI1</code> in
our dataset) as a function of age (<code>RIDAGEYR</code>) and ethnicity
(<code>RIDRETH3</code>), we can construct our model as outlined below.
The resulting output will furnish regression coefficients, standard
errors, and significance tests that have been adjusted for the complex
survey design. When interpreting these results, it’s crucial to remember
that they resemble outputs from a generalized linear model
(<code>glm</code>). However, the estimates provided by
<code>svyglm()</code> have been weighted to produce nationally
representative conclusions.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a>weighted_model <span class="ot">&lt;-</span> <span class="fu">svyglm</span>(BPXDI1 <span class="sc">~</span> RIDAGEYR <span class="sc">+</span> RIDRETH1, <span class="at">design =</span> dfsub, <span class="at">family =</span> <span class="fu">gaussian</span>())</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a><span class="fu">summary</span>(weighted_model)</span></code></pre></div>
<pre><code>## 
## Call:
## svyglm(formula = BPXDI1 ~ RIDAGEYR + RIDRETH1, design = dfsub, 
##     family = gaussian())
## 
## Survey design:
## subset(nhanesDesign, data$RIDAGEYR &gt;= 40)
## 
## Coefficients:
##                                             Estimate Std. Error t value
## (Intercept)                                 90.96516    1.24720  72.935
## RIDAGEYR                                    -0.31522    0.01853 -17.012
## RIDRETH1Other Hispanic                       1.43894    1.25518   1.146
## RIDRETH1Non-Hispanic White                   0.49810    0.73132   0.681
## RIDRETH1Non-Hispanic Black                   2.92332    1.09594   2.667
## RIDRETH1Other Race - Including Multi-Racial  1.38532    0.63780   2.172
##                                             Pr(&gt;|t|)    
## (Intercept)                                 5.73e-15 ***
## RIDAGEYR                                    1.04e-08 ***
## RIDRETH1Other Hispanic                        0.2783    
## RIDRETH1Non-Hispanic White                    0.5113    
## RIDRETH1Non-Hispanic Black                    0.0236 *  
## RIDRETH1Other Race - Including Multi-Racial   0.0550 .  
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## (Dispersion parameter for gaussian family taken to be 162.6653)
## 
## Number of Fisher Scoring iterations: 2</code></pre>
</div>
</div>
<div id="visualizing-differences-in-weighted-and-unweighted-survey-data" class="section level4">
<h4>Visualizing differences in weighted and unweighted survey data</h4>
<p>Visualizing the differences between weighted and unweighted analyses
can offer a clear, intuitive understanding of the impact of weights. We
can use bar plots to compare mean diastolic blood pressures across
different ethnicities. This plot could be extended to other metrics as
well.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a><span class="do">## recalculating means (same as above) </span></span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>unweighted_means <span class="ot">&lt;-</span> <span class="fu">sapply</span>(<span class="fu">split</span>(datasub<span class="sc">$</span>BPXDI1, datasub<span class="sc">$</span>RIDRETH1), mean, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a>weighted_means <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(adjmnsbyEth<span class="sc">$</span>BPXDI1)</span>
<span id="cb31-7"><a href="#cb31-7" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" tabindex="-1"></a>plot_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb31-10"><a href="#cb31-10" tabindex="-1"></a>  <span class="at">Ethnicity =</span> <span class="fu">factor</span>(<span class="fu">rep</span>(<span class="fu">names</span>(unweighted_means), <span class="dv">2</span>),</span>
<span id="cb31-11"><a href="#cb31-11" tabindex="-1"></a>                     <span class="at">levels =</span> <span class="fu">names</span>(unweighted_means)),</span>
<span id="cb31-12"><a href="#cb31-12" tabindex="-1"></a>  <span class="at">Means =</span> <span class="fu">c</span>(unweighted_means, weighted_means),</span>
<span id="cb31-13"><a href="#cb31-13" tabindex="-1"></a>  <span class="at">Type =</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">&quot;Unweighted&quot;</span>, <span class="fu">length</span>(unweighted_means)),</span>
<span id="cb31-14"><a href="#cb31-14" tabindex="-1"></a>                  <span class="fu">rep</span>(<span class="st">&quot;Weighted&quot;</span>, <span class="fu">length</span>(weighted_means))),</span>
<span id="cb31-15"><a href="#cb31-15" tabindex="-1"></a>               <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">&quot;Unweighted&quot;</span>, <span class="st">&quot;Weighted&quot;</span>))</span>
<span id="cb31-16"><a href="#cb31-16" tabindex="-1"></a>)</span>
<span id="cb31-17"><a href="#cb31-17" tabindex="-1"></a></span>
<span id="cb31-18"><a href="#cb31-18" tabindex="-1"></a><span class="co"># Creating the plot</span></span>
<span id="cb31-19"><a href="#cb31-19" tabindex="-1"></a><span class="fu">ggplot</span>(plot_data, <span class="fu">aes</span>(<span class="at">x =</span> Ethnicity, <span class="at">y =</span> Means, <span class="at">fill =</span> Type)) <span class="sc">+</span></span>
<span id="cb31-20"><a href="#cb31-20" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>, <span class="at">width =</span> <span class="fl">0.6</span>) <span class="sc">+</span></span>
<span id="cb31-21"><a href="#cb31-21" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Comparison of Diastolic Blood Pressure by Ethnicity&quot;</span>,</span>
<span id="cb31-22"><a href="#cb31-22" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Mean Diastolic Blood Pressure&quot;</span>) <span class="sc">+</span></span>
<span id="cb31-23"><a href="#cb31-23" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&#39;Mex-Amer&#39;</span>,<span class="st">&#39;Other Hisp&#39;</span>,<span class="st">&#39;White&#39;</span>, <span class="st">&#39;Black&#39;</span>, <span class="st">&#39;Other&#39;</span>)) <span class="sc">+</span></span>
<span id="cb31-24"><a href="#cb31-24" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;red&quot;</span>)) <span class="sc">+</span></span>
<span id="cb31-25"><a href="#cb31-25" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb31-26"><a href="#cb31-26" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
<div id="visualizing-regression-results" class="section level4">
<h4>Visualizing Regression Results</h4>
<p>Visualizing regression coefficients can provide a clear understanding
of how different variables impact the outcome, especially when using
weighted and unweighted data.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a>unweighted_model <span class="ot">&lt;-</span> <span class="fu">glm</span>(BPXDI1 <span class="sc">~</span> RIDAGEYR <span class="sc">+</span> RIDRETH1, <span class="at">data =</span> datasub, <span class="at">family =</span> <span class="fu">gaussian</span>())</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>weighted_model <span class="ot">&lt;-</span> <span class="fu">svyglm</span>(BPXDI1 <span class="sc">~</span> RIDAGEYR <span class="sc">+</span> RIDRETH1, <span class="at">design =</span> dfsub, <span class="at">family =</span> <span class="fu">gaussian</span>())</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a><span class="co"># For the unweighted model</span></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a>unweighted_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(unweighted_model)</span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a>unweighted_coefs <span class="ot">&lt;-</span> unweighted_summary<span class="sc">$</span>coefficients[, <span class="st">&quot;Estimate&quot;</span>]</span>
<span id="cb32-7"><a href="#cb32-7" tabindex="-1"></a>unweighted_se <span class="ot">&lt;-</span> unweighted_summary<span class="sc">$</span>coefficients[, <span class="st">&quot;Std. Error&quot;</span>]</span>
<span id="cb32-8"><a href="#cb32-8" tabindex="-1"></a></span>
<span id="cb32-9"><a href="#cb32-9" tabindex="-1"></a><span class="co"># For the weighted model</span></span>
<span id="cb32-10"><a href="#cb32-10" tabindex="-1"></a>weighted_summary <span class="ot">&lt;-</span> <span class="fu">summary</span>(weighted_model)</span>
<span id="cb32-11"><a href="#cb32-11" tabindex="-1"></a>weighted_coefs <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(weighted_summary<span class="sc">$</span>coefficients[, <span class="st">&quot;Estimate&quot;</span>])</span>
<span id="cb32-12"><a href="#cb32-12" tabindex="-1"></a>weighted_se <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(weighted_summary<span class="sc">$</span>coefficients[, <span class="st">&quot;Std. Error&quot;</span>])</span>
<span id="cb32-13"><a href="#cb32-13" tabindex="-1"></a></span>
<span id="cb32-14"><a href="#cb32-14" tabindex="-1"></a>comparison <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb32-15"><a href="#cb32-15" tabindex="-1"></a>  <span class="at">Variable =</span> <span class="fu">names</span>(unweighted_coefs),</span>
<span id="cb32-16"><a href="#cb32-16" tabindex="-1"></a>  <span class="at">Unweighted =</span> unweighted_coefs,</span>
<span id="cb32-17"><a href="#cb32-17" tabindex="-1"></a>  <span class="at">Weighted =</span> <span class="fu">as.numeric</span>(weighted_coefs)</span>
<span id="cb32-18"><a href="#cb32-18" tabindex="-1"></a>)</span>
<span id="cb32-19"><a href="#cb32-19" tabindex="-1"></a></span>
<span id="cb32-20"><a href="#cb32-20" tabindex="-1"></a><span class="fu">print</span>(comparison)</span></code></pre></div>
<pre><code>##                                                                                Variable
## (Intercept)                                                                 (Intercept)
## RIDAGEYR                                                                       RIDAGEYR
## RIDRETH1Other Hispanic                                           RIDRETH1Other Hispanic
## RIDRETH1Non-Hispanic White                                   RIDRETH1Non-Hispanic White
## RIDRETH1Non-Hispanic Black                                   RIDRETH1Non-Hispanic Black
## RIDRETH1Other Race - Including Multi-Racial RIDRETH1Other Race - Including Multi-Racial
##                                             Unweighted   Weighted
## (Intercept)                                 92.2848149 90.9651590
## RIDAGEYR                                    -0.3460552 -0.3152158
## RIDRETH1Other Hispanic                       1.2325637  1.4389441
## RIDRETH1Non-Hispanic White                   0.7553912  0.4981020
## RIDRETH1Non-Hispanic Black                   4.2996735  2.9233165
## RIDRETH1Other Race - Including Multi-Racial  2.0667520  1.3853204</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a>unweighted_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Variable =</span> <span class="fu">names</span>(unweighted_coefs), </span>
<span id="cb34-2"><a href="#cb34-2" tabindex="-1"></a>                            <span class="at">Estimate =</span> unweighted_coefs, </span>
<span id="cb34-3"><a href="#cb34-3" tabindex="-1"></a>                            <span class="at">SE =</span> unweighted_se, </span>
<span id="cb34-4"><a href="#cb34-4" tabindex="-1"></a>                            <span class="at">Type =</span> <span class="st">&quot;Unweighted&quot;</span>)</span>
<span id="cb34-5"><a href="#cb34-5" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" tabindex="-1"></a>weighted_df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Variable =</span> <span class="fu">names</span>(unweighted_coefs), </span>
<span id="cb34-7"><a href="#cb34-7" tabindex="-1"></a>                          <span class="at">Estimate =</span> weighted_coefs, </span>
<span id="cb34-8"><a href="#cb34-8" tabindex="-1"></a>                          <span class="at">SE =</span> weighted_se, </span>
<span id="cb34-9"><a href="#cb34-9" tabindex="-1"></a>                          <span class="at">Type =</span> <span class="st">&quot;Weighted&quot;</span>)</span>
<span id="cb34-10"><a href="#cb34-10" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" tabindex="-1"></a>plot_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(unweighted_df, weighted_df)</span>
<span id="cb34-12"><a href="#cb34-12" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="fu">subset</span>(plot_data, Variable<span class="sc">!=</span><span class="st">&#39;(Intercept)&#39;</span>), <span class="fu">aes</span>(<span class="at">x =</span> Estimate, <span class="at">y =</span> <span class="fu">reorder</span>(Variable, Estimate), <span class="at">color =</span> Type)) <span class="sc">+</span></span>
<span id="cb34-14"><a href="#cb34-14" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.5</span>), <span class="at">size =</span> <span class="fl">2.5</span>) <span class="sc">+</span></span>
<span id="cb34-15"><a href="#cb34-15" tabindex="-1"></a>  <span class="fu">geom_errorbarh</span>(<span class="fu">aes</span>(<span class="at">xmin =</span> Estimate <span class="sc">-</span> SE, <span class="at">xmax =</span> Estimate <span class="sc">+</span> SE),</span>
<span id="cb34-16"><a href="#cb34-16" tabindex="-1"></a>                 <span class="at">height =</span> <span class="fl">0.2</span>, <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="fl">0.5</span>)) <span class="sc">+</span></span>
<span id="cb34-17"><a href="#cb34-17" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">color =</span> <span class="st">&quot;grey50&quot;</span>) <span class="sc">+</span></span>
<span id="cb34-18"><a href="#cb34-18" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Comparison of Regression Coefficients&quot;</span>,</span>
<span id="cb34-19"><a href="#cb34-19" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Coefficient Value&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Predictors&quot;</span>) <span class="sc">+</span></span>
<span id="cb34-20"><a href="#cb34-20" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb34-21"><a href="#cb34-21" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;Unweighted&quot;</span> <span class="ot">=</span> <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;Weighted&quot;</span> <span class="ot">=</span> <span class="st">&quot;red&quot;</span>)) <span class="sc">+</span></span>
<span id="cb34-22"><a href="#cb34-22" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
